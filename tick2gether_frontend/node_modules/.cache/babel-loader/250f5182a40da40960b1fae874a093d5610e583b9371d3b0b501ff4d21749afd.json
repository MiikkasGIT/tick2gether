{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { fetchTasks, addTask, deleteTask } from '../api';\nimport { sendWebSocketMessage, sendUpdateTaskMessage } from '../websocket';\nexport function useTasks(userId, selectedCategory) {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const initializeTasks = useCallback(async () => {\n    try {\n      const fetchedTasks = await fetchTasks();\n      setTasks(fetchedTasks);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }, []);\n  useEffect(() => {\n    initializeTasks();\n  }, [initializeTasks]);\n  const handleAddTask = async newTask => {\n    try {\n      const formattedTask = {\n        ...newTask,\n        categoryId: selectedCategory === null || selectedCategory === void 0 ? void 0 : selectedCategory.id,\n        userId: userId\n      };\n      const addedTask = await addTask(formattedTask, userId);\n      setTasks(prevTasks => [...prevTasks, addedTask]);\n      sendUpdateTaskMessage(addedTask);\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n  const handleDeleteTask = async id => {\n    try {\n      await deleteTask(id);\n      setTasks(prevTasks => prevTasks.filter(task => task.taskId !== id));\n      sendWebSocketMessage(`/app/deleteTask/${id}`, {\n        type: 'TASK_DELETE',\n        taskId: id\n      });\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n  return {\n    tasks,\n    handleAddTask,\n    handleDeleteTask\n  };\n}\n_s(useTasks, \"1oV4LgfnC1KMPWkFSZLnu472lxQ=\");","map":{"version":3,"names":["useState","useEffect","useCallback","fetchTasks","addTask","deleteTask","sendWebSocketMessage","sendUpdateTaskMessage","useTasks","userId","selectedCategory","_s","tasks","setTasks","initializeTasks","fetchedTasks","error","console","handleAddTask","newTask","formattedTask","categoryId","id","addedTask","prevTasks","handleDeleteTask","filter","task","taskId","type"],"sources":["/Users/finngarrels/IdeaProjects/Tick2GetherProject/tick2gether_frontend/src/hooks/useTasks.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { fetchTasks, addTask, deleteTask } from '../api';\nimport { sendWebSocketMessage, sendUpdateTaskMessage } from '../websocket';\n\nexport function useTasks(userId, selectedCategory) {\n  const [tasks, setTasks] = useState([]);\n\n  const initializeTasks = useCallback(async () => {\n    try {\n      const fetchedTasks = await fetchTasks();\n      setTasks(fetchedTasks);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    initializeTasks();\n  }, [initializeTasks]);\n\n  const handleAddTask = async (newTask) => {\n    try {\n      const formattedTask = {\n        ...newTask,\n        categoryId: selectedCategory?.id,\n        userId: userId,\n      };\n      const addedTask = await addTask(formattedTask, userId);\n      setTasks(prevTasks => [...prevTasks, addedTask]);\n      sendUpdateTaskMessage(addedTask);\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n\n  const handleDeleteTask = async (id) => {\n    try {\n      await deleteTask(id);\n      setTasks(prevTasks => prevTasks.filter(task => task.taskId !== id));\n      sendWebSocketMessage(`/app/deleteTask/${id}`, { type: 'TASK_DELETE', taskId: id });\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n\n  return {\n    tasks,\n    handleAddTask,\n    handleDeleteTask,\n  };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAASC,UAAU,EAAEC,OAAO,EAAEC,UAAU,QAAQ,QAAQ;AACxD,SAASC,oBAAoB,EAAEC,qBAAqB,QAAQ,cAAc;AAE1E,OAAO,SAASC,QAAQA,CAACC,MAAM,EAAEC,gBAAgB,EAAE;EAAAC,EAAA;EACjD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMc,eAAe,GAAGZ,WAAW,CAAC,YAAY;IAC9C,IAAI;MACF,MAAMa,YAAY,GAAG,MAAMZ,UAAU,CAAC,CAAC;MACvCU,QAAQ,CAACE,YAAY,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC,EAAE,EAAE,CAAC;EAENf,SAAS,CAAC,MAAM;IACda,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErB,MAAMI,aAAa,GAAG,MAAOC,OAAO,IAAK;IACvC,IAAI;MACF,MAAMC,aAAa,GAAG;QACpB,GAAGD,OAAO;QACVE,UAAU,EAAEX,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEY,EAAE;QAChCb,MAAM,EAAEA;MACV,CAAC;MACD,MAAMc,SAAS,GAAG,MAAMnB,OAAO,CAACgB,aAAa,EAAEX,MAAM,CAAC;MACtDI,QAAQ,CAACW,SAAS,IAAI,CAAC,GAAGA,SAAS,EAAED,SAAS,CAAC,CAAC;MAChDhB,qBAAqB,CAACgB,SAAS,CAAC;IAClC,CAAC,CAAC,OAAOP,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC5C;EACF,CAAC;EAED,MAAMS,gBAAgB,GAAG,MAAOH,EAAE,IAAK;IACrC,IAAI;MACF,MAAMjB,UAAU,CAACiB,EAAE,CAAC;MACpBT,QAAQ,CAACW,SAAS,IAAIA,SAAS,CAACE,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,KAAKN,EAAE,CAAC,CAAC;MACnEhB,oBAAoB,CAAC,mBAAmBgB,EAAE,EAAE,EAAE;QAAEO,IAAI,EAAE,aAAa;QAAED,MAAM,EAAEN;MAAG,CAAC,CAAC;IACpF,CAAC,CAAC,OAAON,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED,OAAO;IACLJ,KAAK;IACLM,aAAa;IACbO;EACF,CAAC;AACH;AAACd,EAAA,CA9CeH,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}