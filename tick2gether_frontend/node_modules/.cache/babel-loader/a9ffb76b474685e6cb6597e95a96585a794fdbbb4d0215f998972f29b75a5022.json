{"ast":null,"code":"var _jsxFileName = \"/Users/finngarrels/IdeaProjects/Tick2GetherProject/tick2gether_frontend/src/pages/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Categories from '../components/Categories';\nimport ToDoList from '../components/ToDoList';\nimport ToDoActions from '../components/ToDoActions';\nimport Navbar from '../components/Navbar';\nimport EditTaskPopUp from '../components/EditTaskPopUp';\nimport AddTaskPopUp from '../components/AddTaskPopUp';\nimport AddCategoryPopUp from '../components/AddCategoryPopUp';\nimport { AllTasksIcon, AnyTimeIcon, PersonalIcon, PlannedIcon, SparkleIcon, SparkleLightIcon, TodayIcon, WorkIcon, BookIcon } from '../icons';\nimport { fetchTasks, addTask, updateTask, deleteTask, fetchUserId, fetchEmail, addCategory, fetchCategories } from '../api';\nimport { connectWebSocket, sendWebSocketMessage, disconnectWebSocket } from '../websocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst iconMap = {\n  'All Tasks': AllTasksIcon,\n  'Today': TodayIcon,\n  'Planned': PlannedIcon,\n  'Any Time': AnyTimeIcon,\n  'Work': WorkIcon,\n  'Personal': PersonalIcon,\n  'Logbook': BookIcon\n};\nconst customCategoryIcon = SparkleIcon;\nconst customCategoryLightIcon = SparkleLightIcon;\nfunction Dashboard() {\n  _s();\n  const [showEditTaskPopUp, setShowEditTaskPopUp] = useState(false);\n  const [showAddCategoryPopUp, setShowAddCategoryPopUp] = useState(false);\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [currentTask, setCurrentTask] = useState(null);\n  const [showAddTaskPopUp, setShowAddTaskPopUp] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const navigate = useNavigate();\n  const webSocketRef = useRef(null);\n  const initializeWebSocket = userId => {\n    if (!webSocketRef.current) {\n      console.log('Connecting WebSocket with userId:', userId);\n      try {\n        connectWebSocket(onTaskMessageReceived, onCategoryMessageReceived, userId);\n        console.log('WebSocket connection initialized.');\n      } catch (error) {\n        console.error('Error initializing WebSocket:', error);\n      }\n    } else {\n      console.log('WebSocket already connected for userId:', userId);\n    }\n  };\n  useEffect(() => {\n    if (userId) {\n      initializeWebSocket(userId);\n    }\n    return () => {\n      if (webSocketRef.current) {\n        disconnectWebSocket();\n        webSocketRef.current = null;\n      }\n    };\n  }, [userId]);\n  useEffect(() => {\n    const fetchUserAndTasksAndCategories = async () => {\n      try {\n        console.log('Fetching user email...');\n        const email = await fetchEmail();\n        console.log('Fetched email:', email);\n        console.log('Fetching user ID for email:', email);\n        const fetchedUserId = await fetchUserId(email);\n        if (fetchedUserId) {\n          console.log('Fetched userId:', fetchedUserId);\n          setUserId(fetchedUserId);\n          console.log('Fetching tasks...');\n          const tasks = await fetchTasks();\n          console.log('Fetched tasks:', tasks);\n          setTasks(tasks);\n          console.log('Fetching categories for userId:', fetchedUserId);\n          const fetchedCategories = await fetchCategories(fetchedUserId);\n          console.log('Fetched categories:', fetchedCategories);\n          const mappedCategories = fetchedCategories.map(category => ({\n            ...category,\n            id: category.categoryId,\n            icon: iconMap[category.name] || customCategoryIcon,\n            isSelected: false,\n            fullWidth: false,\n            showDelete: false\n          }));\n          setCategories(mappedCategories);\n          if (mappedCategories.length > 0) {\n            setSelectedCategory(mappedCategories[0]);\n          }\n        } else {\n          console.warn('User not found, redirecting to login...');\n          navigate('/login');\n        }\n      } catch (error) {\n        console.error('Error fetching user, tasks, or categories:', error);\n        navigate('/login');\n      }\n    };\n    fetchUserAndTasksAndCategories();\n  }, [navigate]);\n  useEffect(() => {\n    if (selectedCategory) {\n      console.log('Selected category changed:', selectedCategory);\n      setTasks(tasks.filter(task => task.categoryId === selectedCategory.id));\n    }\n  }, [selectedCategory, tasks]);\n  const onTaskMessageReceived = useCallback(task => {\n    console.log('Task message received:', task);\n    setTasks(prevTasks => {\n      const existingTaskIndex = prevTasks.findIndex(t => t.id === task.id);\n      if (existingTaskIndex >= 0) {\n        const updatedTasks = [...prevTasks];\n        updatedTasks[existingTaskIndex] = task;\n        return updatedTasks;\n      } else {\n        return [...prevTasks, task];\n      }\n    });\n  }, []);\n  const onCategoryMessageReceived = useCallback(category => {\n    console.log('Category message received:', category);\n    setCategories(prevCategories => {\n      const existingCategoryIndex = prevCategories.findIndex(c => c.id === category.id);\n      if (existingCategoryIndex >= 0) {\n        const updatedCategories = [...prevCategories];\n        updatedCategories[existingCategoryIndex] = category;\n        return updatedCategories;\n      } else {\n        return [...prevCategories, category];\n      }\n    });\n  }, []);\n  const handleAddCategory = newCategory => {\n    console.log('Adding new category:', newCategory);\n    addCategory(newCategory).then(() => {\n      setShowAddCategoryPopUp(false);\n      sendWebSocketMessage(`/app/category/add`, newCategory);\n    }).catch(error => {\n      console.error('Error adding category:', error);\n    });\n  };\n  const handleAddTask = newTask => {\n    console.log('Adding new task:', newTask);\n    addTask(newTask).then(() => {\n      setShowAddTaskPopUp(false);\n      sendWebSocketMessage(`/app/task/add`, newTask);\n    }).catch(error => {\n      console.error('Error adding task:', error);\n    });\n  };\n  const handleUpdateTask = updatedTask => {\n    console.log('Updating task:', updatedTask);\n    updateTask(updatedTask).then(() => {\n      setShowEditTaskPopUp(false);\n      sendWebSocketMessage(`/app/task/update`, updatedTask);\n    }).catch(error => {\n      console.error('Error updating task:', error);\n    });\n  };\n  const handleDeleteTask = taskId => {\n    console.log('Deleting task with ID:', taskId);\n    deleteTask(taskId).then(() => {\n      setTasks(prevTasks => prevTasks.filter(task => task.id !== taskId));\n      sendWebSocketMessage(`/app/task/delete`, {\n        id: taskId\n      });\n    }).catch(error => {\n      console.error('Error deleting task:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Categories, {\n      categories: categories,\n      onCategoryClick: setSelectedCategory,\n      selectedCategory: selectedCategory,\n      showDeleteMode: isDeleteMode,\n      onDeleteCategory: () => {},\n      onAddCategory: () => setShowAddCategoryPopUp(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToDoList, {\n      tasks: tasks,\n      onTaskClick: setCurrentTask,\n      onDeleteTask: handleDeleteTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToDoActions, {\n      onAddTask: () => setShowAddTaskPopUp(true),\n      onEditTask: () => setShowEditTaskPopUp(true),\n      onDeleteModeToggle: () => setIsDeleteMode(!isDeleteMode)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), showAddTaskPopUp && /*#__PURE__*/_jsxDEV(AddTaskPopUp, {\n      onSave: handleAddTask,\n      onClose: () => setShowAddTaskPopUp(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 28\n    }, this), showEditTaskPopUp && /*#__PURE__*/_jsxDEV(EditTaskPopUp, {\n      task: currentTask,\n      onSave: handleUpdateTask,\n      onClose: () => setShowEditTaskPopUp(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 29\n    }, this), showAddCategoryPopUp && /*#__PURE__*/_jsxDEV(AddCategoryPopUp, {\n      onSave: handleAddCategory,\n      onClose: () => setShowAddCategoryPopUp(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"+WyzhpUEemO5k9lHFRIYbW29Cs4=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useNavigate","Categories","ToDoList","ToDoActions","Navbar","EditTaskPopUp","AddTaskPopUp","AddCategoryPopUp","AllTasksIcon","AnyTimeIcon","PersonalIcon","PlannedIcon","SparkleIcon","SparkleLightIcon","TodayIcon","WorkIcon","BookIcon","fetchTasks","addTask","updateTask","deleteTask","fetchUserId","fetchEmail","addCategory","fetchCategories","connectWebSocket","sendWebSocketMessage","disconnectWebSocket","jsxDEV","_jsxDEV","iconMap","customCategoryIcon","customCategoryLightIcon","Dashboard","_s","showEditTaskPopUp","setShowEditTaskPopUp","showAddCategoryPopUp","setShowAddCategoryPopUp","isDeleteMode","setIsDeleteMode","tasks","setTasks","categories","setCategories","selectedCategory","setSelectedCategory","currentTask","setCurrentTask","showAddTaskPopUp","setShowAddTaskPopUp","userId","setUserId","navigate","webSocketRef","initializeWebSocket","current","console","log","onTaskMessageReceived","onCategoryMessageReceived","error","fetchUserAndTasksAndCategories","email","fetchedUserId","fetchedCategories","mappedCategories","map","category","id","categoryId","icon","name","isSelected","fullWidth","showDelete","length","warn","filter","task","prevTasks","existingTaskIndex","findIndex","t","updatedTasks","prevCategories","existingCategoryIndex","c","updatedCategories","handleAddCategory","newCategory","then","catch","handleAddTask","newTask","handleUpdateTask","updatedTask","handleDeleteTask","taskId","children","fileName","_jsxFileName","lineNumber","columnNumber","onCategoryClick","showDeleteMode","onDeleteCategory","onAddCategory","onTaskClick","onDeleteTask","onAddTask","onEditTask","onDeleteModeToggle","onSave","onClose","_c","$RefreshReg$"],"sources":["/Users/finngarrels/IdeaProjects/Tick2GetherProject/tick2gether_frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Categories from '../components/Categories';\nimport ToDoList from '../components/ToDoList';\nimport ToDoActions from '../components/ToDoActions';\nimport Navbar from '../components/Navbar';\nimport EditTaskPopUp from '../components/EditTaskPopUp';\nimport AddTaskPopUp from '../components/AddTaskPopUp';\nimport AddCategoryPopUp from '../components/AddCategoryPopUp';\nimport {\n  AllTasksIcon,\n  AnyTimeIcon,\n  PersonalIcon,\n  PlannedIcon,\n  SparkleIcon,\n  SparkleLightIcon,\n  TodayIcon,\n  WorkIcon,\n  BookIcon\n} from '../icons';\nimport { fetchTasks, addTask, updateTask, deleteTask, fetchUserId, fetchEmail, addCategory, fetchCategories } from '../api';\nimport { connectWebSocket, sendWebSocketMessage, disconnectWebSocket } from '../websocket';\n\nconst iconMap = {\n  'All Tasks': AllTasksIcon,\n  'Today': TodayIcon,\n  'Planned': PlannedIcon,\n  'Any Time': AnyTimeIcon,\n  'Work': WorkIcon,\n  'Personal': PersonalIcon,\n  'Logbook': BookIcon,\n};\n\nconst customCategoryIcon = SparkleIcon;\nconst customCategoryLightIcon = SparkleLightIcon;\n\nfunction Dashboard() {\n  const [showEditTaskPopUp, setShowEditTaskPopUp] = useState(false);\n  const [showAddCategoryPopUp, setShowAddCategoryPopUp] = useState(false);\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [currentTask, setCurrentTask] = useState(null);\n  const [showAddTaskPopUp, setShowAddTaskPopUp] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const navigate = useNavigate();\n  const webSocketRef = useRef(null);\n  \n  const initializeWebSocket = (userId) => {\n    if (!webSocketRef.current) {\n      console.log('Connecting WebSocket with userId:', userId);\n      try {\n        connectWebSocket(onTaskMessageReceived, onCategoryMessageReceived, userId);\n        console.log('WebSocket connection initialized.');\n      } catch (error) {\n        console.error('Error initializing WebSocket:', error);\n      }\n    } else {\n      console.log('WebSocket already connected for userId:', userId);\n    }\n  };\n  \n  useEffect(() => {\n    if (userId) {\n      initializeWebSocket(userId);\n    }\n  \n    return () => {\n      if (webSocketRef.current) {\n        disconnectWebSocket();\n        webSocketRef.current = null;\n      }\n    };\n  }, [userId]);\n\n  useEffect(() => {\n    const fetchUserAndTasksAndCategories = async () => {\n      try {\n        console.log('Fetching user email...');\n        const email = await fetchEmail();\n        console.log('Fetched email:', email);\n  \n        console.log('Fetching user ID for email:', email);\n        const fetchedUserId = await fetchUserId(email);\n        if (fetchedUserId) {\n          console.log('Fetched userId:', fetchedUserId);\n          setUserId(fetchedUserId);\n  \n          console.log('Fetching tasks...');\n          const tasks = await fetchTasks();\n          console.log('Fetched tasks:', tasks);\n          setTasks(tasks);\n  \n          console.log('Fetching categories for userId:', fetchedUserId);\n          const fetchedCategories = await fetchCategories(fetchedUserId);\n          console.log('Fetched categories:', fetchedCategories);\n  \n          const mappedCategories = fetchedCategories.map(category => ({\n            ...category,\n            id: category.categoryId,\n            icon: iconMap[category.name] || customCategoryIcon,\n            isSelected: false,\n            fullWidth: false,\n            showDelete: false,\n          }));\n          setCategories(mappedCategories);\n          if (mappedCategories.length > 0) {\n            setSelectedCategory(mappedCategories[0]);\n          }\n        } else {\n          console.warn('User not found, redirecting to login...');\n          navigate('/login');\n        }\n      } catch (error) {\n        console.error('Error fetching user, tasks, or categories:', error);\n        navigate('/login');\n      }\n    };\n  \n    fetchUserAndTasksAndCategories();\n  }, [navigate]);\n  \n  useEffect(() => {\n    if (selectedCategory) {\n      console.log('Selected category changed:', selectedCategory);\n      setTasks(tasks.filter(task => task.categoryId === selectedCategory.id));\n    }\n  }, [selectedCategory, tasks]);\n  \n  const onTaskMessageReceived = useCallback((task) => {\n    console.log('Task message received:', task);\n    setTasks(prevTasks => {\n      const existingTaskIndex = prevTasks.findIndex(t => t.id === task.id);\n      if (existingTaskIndex >= 0) {\n        const updatedTasks = [...prevTasks];\n        updatedTasks[existingTaskIndex] = task;\n        return updatedTasks;\n      } else {\n        return [...prevTasks, task];\n      }\n    });\n  }, []);\n  \n  const onCategoryMessageReceived = useCallback((category) => {\n    console.log('Category message received:', category);\n    setCategories(prevCategories => {\n      const existingCategoryIndex = prevCategories.findIndex(c => c.id === category.id);\n      if (existingCategoryIndex >= 0) {\n        const updatedCategories = [...prevCategories];\n        updatedCategories[existingCategoryIndex] = category;\n        return updatedCategories;\n      } else {\n        return [...prevCategories, category];\n      }\n    });\n  }, []);\n  \n  const handleAddCategory = (newCategory) => {\n    console.log('Adding new category:', newCategory);\n    addCategory(newCategory).then(() => {\n      setShowAddCategoryPopUp(false);\n      sendWebSocketMessage(`/app/category/add`, newCategory);\n    }).catch(error => {\n      console.error('Error adding category:', error);\n    });\n  };\n  \n  const handleAddTask = (newTask) => {\n    console.log('Adding new task:', newTask);\n    addTask(newTask).then(() => {\n      setShowAddTaskPopUp(false);\n      sendWebSocketMessage(`/app/task/add`, newTask);\n    }).catch(error => {\n      console.error('Error adding task:', error);\n    });\n  };\n  \n  const handleUpdateTask = (updatedTask) => {\n    console.log('Updating task:', updatedTask);\n    updateTask(updatedTask).then(() => {\n      setShowEditTaskPopUp(false);\n      sendWebSocketMessage(`/app/task/update`, updatedTask);\n    }).catch(error => {\n      console.error('Error updating task:', error);\n    });\n  };\n  \n  const handleDeleteTask = (taskId) => {\n    console.log('Deleting task with ID:', taskId);\n    deleteTask(taskId).then(() => {\n      setTasks(prevTasks => prevTasks.filter(task => task.id !== taskId));\n      sendWebSocketMessage(`/app/task/delete`, { id: taskId });\n    }).catch(error => {\n      console.error('Error deleting task:', error);\n    });\n  };\n  \n  return (\n    <div>\n      <Navbar />\n      <Categories\n        categories={categories}\n        onCategoryClick={setSelectedCategory}\n        selectedCategory={selectedCategory}\n        showDeleteMode={isDeleteMode}\n        onDeleteCategory={() => {}}\n        onAddCategory={() => setShowAddCategoryPopUp(true)}\n      />\n      <ToDoList\n        tasks={tasks}\n        onTaskClick={setCurrentTask}\n        onDeleteTask={handleDeleteTask}\n      />\n      <ToDoActions\n        onAddTask={() => setShowAddTaskPopUp(true)}\n        onEditTask={() => setShowEditTaskPopUp(true)}\n        onDeleteModeToggle={() => setIsDeleteMode(!isDeleteMode)}\n      />\n      {showAddTaskPopUp && <AddTaskPopUp onSave={handleAddTask} onClose={() => setShowAddTaskPopUp(false)} />}\n      {showEditTaskPopUp && <EditTaskPopUp task={currentTask} onSave={handleUpdateTask} onClose={() => setShowEditTaskPopUp(false)} />}\n      {showAddCategoryPopUp && <AddCategoryPopUp onSave={handleAddCategory} onClose={() => setShowAddCategoryPopUp(false)} />}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}