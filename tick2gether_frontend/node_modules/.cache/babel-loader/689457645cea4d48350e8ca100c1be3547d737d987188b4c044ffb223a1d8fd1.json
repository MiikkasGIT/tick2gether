{"ast":null,"code":"import React,{useState,useEffect,useCallback,useMemo}from'react';import{XIcon,DeleteIcon,AddIcon,iconMap,lightIconMap,customCategoryIcon,customCategoryLightIcon}from'../icons';import AddCategoryPopUp from'./AddCategoryPopUp';import{addCategory,deleteCategory as apiDeleteCategory}from'../api';import{sendWebSocketMessage}from'../websocket';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Categories=_ref=>{let{onSelectCategory,userId,categoriesFromBackend}=_ref;const[categories,setCategories]=useState([]);const[showDeleteIcons,setShowDeleteIcons]=useState(false);const[showAddCategoryPopUp,setShowAddCategoryPopUp]=useState(false);const[selectedCategoryId,setSelectedCategoryId]=useState(null);useEffect(()=>{if(categoriesFromBackend){console.log('Categories from Backend:',categoriesFromBackend);// Debugging-Ausgabe\nconst uniqueCategories=categoriesFromBackend.reduce((acc,category)=>{if(!acc.some(cat=>cat.categoryId===category.categoryId)){acc.push({...category,icon:iconMap[category.name]||customCategoryIcon,lightIcon:lightIconMap[category.name]||customCategoryLightIcon,color:'text-gray-400',selectedColor:'text-white',isSelected:false,showDelete:false});}return acc;},[]);setCategories(uniqueCategories);console.log('Processed Categories:',uniqueCategories);// Debugging-Ausgabe\n}},[categoriesFromBackend]);const updateSelection=useCallback((categoryList,categoryId)=>categoryList.map(category=>({...category,isSelected:category.categoryId===categoryId})),[]);const selectCategory=useCallback(async categoryId=>{try{console.log(\"Selecting category ID: \".concat(categoryId));const updatedCategories=updateSelection(categories,categoryId);setCategories(updatedCategories);const selectedCategory=updatedCategories.find(category=>category.categoryId===categoryId);setSelectedCategoryId(categoryId);onSelectCategory(selectedCategory);}catch(error){console.error('Error selecting category:',error);}},[categories,onSelectCategory,updateSelection]);const handleAddCategory=useCallback(async categoryData=>{try{const data=await addCategory({...categoryData,userId});const newCategory={categoryId:data.categoryId,name:data.name,icon:customCategoryIcon,lightIcon:customCategoryLightIcon,color:'text-gray-400',selectedColor:'text-white',isSelected:false,showDelete:false,userId:data.userId};// Ensure new category is unique\nif(!categories.some(cat=>cat.categoryId===newCategory.categoryId)){setCategories(prevCategories=>[...prevCategories,newCategory]);}sendWebSocketMessage('/topic/categories',{type:'CATEGORY_UPDATE',category:newCategory});}catch(error){console.error('Error adding category:',error);}finally{setShowAddCategoryPopUp(false);}},[userId,categories]);const toggleDeleteIcons=useCallback(()=>{const updatedCategories=categories.map(category=>({...category,showDelete:!showDeleteIcons}));setCategories(updatedCategories);setShowDeleteIcons(prev=>!prev);},[categories,showDeleteIcons]);const handleDeleteCategory=useCallback(async categoryId=>{try{await apiDeleteCategory(categoryId);setCategories(prev=>prev.filter(cat=>cat.categoryId!==categoryId));sendWebSocketMessage('/topic/categories',{type:'CATEGORY_UPDATE',categoryId,message:\"Category deleted successfully\"});}catch(error){console.error('Error deleting category:',error);}},[]);const allCategories=useMemo(()=>{return categories.reduce((unique,category)=>{if(!unique.some(cat=>cat.categoryId===category.categoryId)){unique.push(category);}return unique;},[]);},[categories]);const isMaxCategories=allCategories.length>=12;const getCategoryStyles=category=>({minWidth:category.fullWidth?'100%':'140px',maxWidth:'100%',height:category.fullWidth?'60px':'100px',borderRadius:'20px',backgroundColor:category.isSelected?'#0374FA':'#0000000D',ringColor:category.isSelected?'#0374FA26':'',padding:category.fullWidth?'0 15px':'15px'});useEffect(()=>{if(allCategories.length>0&&selectedCategoryId===null){var _allCategories$;const defaultCategoryId=(_allCategories$=allCategories[0])===null||_allCategories$===void 0?void 0:_allCategories$.categoryId;if(defaultCategoryId){selectCategory(defaultCategoryId);setSelectedCategoryId(defaultCategoryId);}}},[allCategories,selectedCategoryId,selectCategory]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[allCategories.map(category=>{const textColor=category.isSelected?'text-white':'text-gray-900';const IconComponent=category.isSelected?category.lightIcon:category.icon;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex \".concat(category.fullWidth?'flex-row':'flex-col',\" justify-center items-center rounded-lg \").concat(category.isSelected?'ring-2 ring-offset-2':'',\" \").concat(category.fullWidth?'col-span-2':''),style:getCategoryStyles(category),onClick:()=>selectCategory(category.categoryId),children:[category.fullWidth?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconComponent,{className:\"h-6 w-6 \".concat(category.isSelected?category.selectedColor:category.color)}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-medium \".concat(textColor),children:category.name})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-2 p-2\",children:/*#__PURE__*/_jsx(IconComponent,{className:\"h-6 w-6 \".concat(category.isSelected?category.selectedColor:category.color)})}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute bottom-2 left-2 p-2 text-sm font-medium \".concat(textColor),children:category.name})]}),category.showDelete&&/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 p-2\",onClick:e=>{e.stopPropagation();handleDeleteCategory(category.categoryId);},children:/*#__PURE__*/_jsx(XIcon,{className:\"h-5 w-5\"})})]},category.categoryId);}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 flex items-center justify-center mt-3 gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow flex items-center justify-center rounded-lg bg-grayCustom.dark hover:bg-grayCustom.light focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blueCustom.DEFAULT cursor-pointer h-[50px] \".concat(isMaxCategories?'opacity-50':''),style:{borderRadius:'20px',backgroundColor:'#0000000D',padding:'0 15px',display:'flex',alignItems:'center',justifyContent:'center'},onClick:()=>setShowAddCategoryPopUp(true),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 w-full justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(AddIcon,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:\"Add Category\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 flex items-center justify-center rounded-lg bg-grayCustom.dark hover:bg-grayCustom.light focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blueCustom.DEFAULT cursor-pointer w-[50px] h-[50px]\",style:{borderRadius:'20px',backgroundColor:showDeleteIcons?'#FC5E5E26':'#0000000D',padding:'0 15px',display:'flex',alignItems:'center',justifyContent:'center'},onClick:toggleDeleteIcons,children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(DeleteIcon,{className:\"h-6 w-6\"})})})]})]}),showAddCategoryPopUp&&/*#__PURE__*/_jsx(AddCategoryPopUp,{onAddCategory:handleAddCategory,onClose:()=>setShowAddCategoryPopUp(false),userId:userId})]});};export default Categories;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","XIcon","DeleteIcon","AddIcon","iconMap","lightIconMap","customCategoryIcon","customCategoryLightIcon","AddCategoryPopUp","addCategory","deleteCategory","apiDeleteCategory","sendWebSocketMessage","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Categories","_ref","onSelectCategory","userId","categoriesFromBackend","categories","setCategories","showDeleteIcons","setShowDeleteIcons","showAddCategoryPopUp","setShowAddCategoryPopUp","selectedCategoryId","setSelectedCategoryId","console","log","uniqueCategories","reduce","acc","category","some","cat","categoryId","push","icon","name","lightIcon","color","selectedColor","isSelected","showDelete","updateSelection","categoryList","map","selectCategory","concat","updatedCategories","selectedCategory","find","error","handleAddCategory","categoryData","data","newCategory","prevCategories","type","toggleDeleteIcons","prev","handleDeleteCategory","filter","message","allCategories","unique","isMaxCategories","length","getCategoryStyles","minWidth","fullWidth","maxWidth","height","borderRadius","backgroundColor","ringColor","padding","_allCategories$","defaultCategoryId","children","className","textColor","IconComponent","style","onClick","e","stopPropagation","display","alignItems","justifyContent","width","onAddCategory","onClose"],"sources":["/Users/miikkakoensler/Downloads/Tick2GetherProject/tick2gether_frontend/src/components/Categories.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport {\n  XIcon,\n  DeleteIcon,\n  AddIcon,\n  iconMap,\n  lightIconMap,\n  customCategoryIcon,\n  customCategoryLightIcon\n} from '../icons';\nimport AddCategoryPopUp from './AddCategoryPopUp';\nimport { addCategory, deleteCategory as apiDeleteCategory } from '../api';\nimport { sendWebSocketMessage } from '../websocket';\n\nconst Categories = ({ onSelectCategory, userId, categoriesFromBackend }) => {\n  const [categories, setCategories] = useState([]);\n  const [showDeleteIcons, setShowDeleteIcons] = useState(false);\n  const [showAddCategoryPopUp, setShowAddCategoryPopUp] = useState(false);\n  const [selectedCategoryId, setSelectedCategoryId] = useState(null);\n\n  useEffect(() => {\n    if (categoriesFromBackend) {\n      console.log('Categories from Backend:', categoriesFromBackend); // Debugging-Ausgabe\n      const uniqueCategories = categoriesFromBackend.reduce((acc, category) => {\n        if (!acc.some(cat => cat.categoryId === category.categoryId)) {\n          acc.push({\n            ...category,\n            icon: iconMap[category.name] || customCategoryIcon,\n            lightIcon: lightIconMap[category.name] || customCategoryLightIcon,\n            color: 'text-gray-400',\n            selectedColor: 'text-white',\n            isSelected: false,\n            showDelete: false,\n          });\n        }\n        return acc;\n      }, []);\n      setCategories(uniqueCategories);\n      console.log('Processed Categories:', uniqueCategories); // Debugging-Ausgabe\n    }\n  }, [categoriesFromBackend]);\n  \n  const updateSelection = useCallback((categoryList, categoryId) =>\n    categoryList.map(category => ({\n      ...category,\n      isSelected: category.categoryId === categoryId,\n    })),\n    []\n  );\n\n  const selectCategory = useCallback(async (categoryId) => {\n    try {\n      console.log(`Selecting category ID: ${categoryId}`);\n\n      const updatedCategories = updateSelection(categories, categoryId);\n      setCategories(updatedCategories);\n\n      const selectedCategory = updatedCategories.find(category => category.categoryId === categoryId);\n      setSelectedCategoryId(categoryId);\n      onSelectCategory(selectedCategory);\n\n    } catch (error) {\n      console.error('Error selecting category:', error);\n    }\n  }, [categories, onSelectCategory, updateSelection]);\n\n  const handleAddCategory = useCallback(async (categoryData) => {\n    try {\n      const data = await addCategory({ ...categoryData, userId });\n      const newCategory = {\n        categoryId: data.categoryId,\n        name: data.name,\n        icon: customCategoryIcon,\n        lightIcon: customCategoryLightIcon,\n        color: 'text-gray-400',\n        selectedColor: 'text-white',\n        isSelected: false,\n        showDelete: false,\n        userId: data.userId,\n      };\n\n      // Ensure new category is unique\n      if (!categories.some(cat => cat.categoryId === newCategory.categoryId)) {\n        setCategories(prevCategories => [\n          ...prevCategories,\n          newCategory,\n        ]);\n      }\n\n      sendWebSocketMessage('/topic/categories', { type: 'CATEGORY_UPDATE', category: newCategory });\n    } catch (error) {\n      console.error('Error adding category:', error);\n    } finally {\n      setShowAddCategoryPopUp(false);\n    }\n  }, [userId, categories]);\n\n  const toggleDeleteIcons = useCallback(() => {\n    const updatedCategories = categories.map(category => ({\n      ...category,\n      showDelete: !showDeleteIcons,\n    }));\n\n    setCategories(updatedCategories);\n    setShowDeleteIcons(prev => !prev);\n  }, [categories, showDeleteIcons]);\n\n  const handleDeleteCategory = useCallback(async (categoryId) => {\n    try {\n      await apiDeleteCategory(categoryId);\n      setCategories(prev => prev.filter(cat => cat.categoryId !== categoryId));\n\n      sendWebSocketMessage('/topic/categories', { type: 'CATEGORY_UPDATE', categoryId, message: \"Category deleted successfully\" });\n    } catch (error) {\n      console.error('Error deleting category:', error);\n    }\n  }, []);\n\n  const allCategories = useMemo(() => {\n    return categories.reduce((unique, category) => {\n      if (!unique.some(cat => cat.categoryId === category.categoryId)) {\n        unique.push(category);\n      }\n      return unique;\n    }, []);\n  }, [categories]);\n\n  const isMaxCategories = allCategories.length >= 12;\n\n  const getCategoryStyles = (category) => ({\n    minWidth: category.fullWidth ? '100%' : '140px',\n    maxWidth: '100%',\n    height: category.fullWidth ? '60px' : '100px',\n    borderRadius: '20px',\n    backgroundColor: category.isSelected ? '#0374FA' : '#0000000D',\n    ringColor: category.isSelected ? '#0374FA26' : '',\n    padding: category.fullWidth ? '0 15px' : '15px',\n  });\n\n  useEffect(() => {\n    if (allCategories.length > 0 && selectedCategoryId === null) {\n      const defaultCategoryId = allCategories[0]?.categoryId;\n      if (defaultCategoryId) {\n        selectCategory(defaultCategoryId);\n        setSelectedCategoryId(defaultCategoryId);\n      }\n    }\n  }, [allCategories, selectedCategoryId, selectCategory]);\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        {allCategories.map((category) => {\n          const textColor = category.isSelected ? 'text-white' : 'text-gray-900';\n          const IconComponent = category.isSelected ? category.lightIcon : category.icon;\n\n          return (\n            <div\n              key={category.categoryId}\n              className={`relative flex ${category.fullWidth ? 'flex-row' : 'flex-col'} justify-center items-center rounded-lg ${category.isSelected ? 'ring-2 ring-offset-2' : ''} ${category.fullWidth ? 'col-span-2' : ''}`}\n              style={getCategoryStyles(category)}\n              onClick={() => selectCategory(category.categoryId)}\n            >\n              {category.fullWidth ? (\n                <>\n                  <IconComponent className={`h-6 w-6 ${category.isSelected ? category.selectedColor : category.color}`} />\n                  <span className={`ml-2 text-sm font-medium ${textColor}`}>{category.name}</span>\n                </>\n              ) : (\n                <>\n                  <div className=\"absolute top-2 left-2 p-2\">\n                    <IconComponent className={`h-6 w-6 ${category.isSelected ? category.selectedColor : category.color}`} />\n                  </div>\n                  <span className={`absolute bottom-2 left-2 p-2 text-sm font-medium ${textColor}`}>{category.name}</span>\n                </>\n              )}\n              {category.showDelete && (\n                <button\n                  className=\"absolute top-2 right-2 p-2\"\n                  onClick={(e) => { e.stopPropagation(); handleDeleteCategory(category.categoryId); }}\n                >\n                  <XIcon className=\"h-5 w-5\" />\n                </button>\n              )}\n            </div>\n          );\n        })}\n\n        <div className=\"col-span-2 flex items-center justify-center mt-3 gap-3\">\n          <div\n            className={`flex-grow flex items-center justify-center rounded-lg bg-grayCustom.dark hover:bg-grayCustom.light focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blueCustom.DEFAULT cursor-pointer h-[50px] ${isMaxCategories ? 'opacity-50' : ''}`}\n            style={{\n              borderRadius: '20px',\n              backgroundColor: '#0000000D',\n              padding: '0 15px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n            onClick={() => setShowAddCategoryPopUp(true)}\n          >\n            <div className=\"flex items-center space-x-2 w-full justify-center\">\n              <div className=\"flex items-center justify-center\" style={{ width: '20px', height: '20px' }}>\n                <AddIcon className=\"h-6 w-6 text-gray-400\" />\n              </div>\n              <span className=\"text-sm font-medium text-gray-900\">Add Category</span>\n            </div>\n          </div>\n          <div\n            className=\"flex-shrink-0 flex items-center justify-center rounded-lg bg-grayCustom.dark hover:bg-grayCustom.light focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blueCustom.DEFAULT cursor-pointer w-[50px] h-[50px]\"\n            style={{\n              borderRadius: '20px',\n              backgroundColor: showDeleteIcons ? '#FC5E5E26' : '#0000000D',\n              padding: '0 15px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n            onClick={toggleDeleteIcons}\n          >\n            <div className=\"flex items-center justify-center\" style={{ width: '20px', height: '20px' }}>\n              <DeleteIcon className=\"h-6 w-6\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      {showAddCategoryPopUp && (\n        <AddCategoryPopUp\n          onAddCategory={handleAddCategory}\n          onClose={() => setShowAddCategoryPopUp(false)}\n          userId={userId}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Categories;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}