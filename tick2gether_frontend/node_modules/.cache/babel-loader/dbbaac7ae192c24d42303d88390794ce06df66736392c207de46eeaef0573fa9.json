{"ast":null,"code":"import SockJS from 'sockjs-client';\nimport { Client } from '@stomp/stompjs';\nlet client = null;\nexport const connect = (userId, onMessage) => {\n  const socket = new SockJS('http://localhost:8080/ws');\n  client = new Client({\n    webSocketFactory: () => socket,\n    onConnect: () => {\n      console.log(\"Connected to WebSocket\");\n      client.subscribe(`/user/${userId}/specific`, message => {\n        try {\n          const parsedMessage = JSON.parse(message.body);\n          console.log(\"Received WebSocket message:\", parsedMessage);\n          onMessage(parsedMessage);\n        } catch (error) {\n          console.error(\"Error processing WebSocket message:\", error);\n        }\n      });\n    },\n    debug: str => {\n      console.log(new Date(), str);\n    }\n  });\n  client.activate();\n};\nexport const disconnect = () => {\n  if (client !== null) {\n    client.deactivate();\n    console.log(\"Disconnected from WebSocket\");\n  }\n};\nexport const sendMessage = (destination, message) => {\n  if (client !== null && client.connected) {\n    console.log(\"Publishing message to:\", destination, message);\n    client.publish({\n      destination,\n      body: JSON.stringify(message)\n    });\n  } else {\n    console.error(\"WebSocket is not connected\");\n  }\n};","map":{"version":3,"names":["SockJS","Client","client","connect","userId","onMessage","socket","webSocketFactory","onConnect","console","log","subscribe","message","parsedMessage","JSON","parse","body","error","debug","str","Date","activate","disconnect","deactivate","sendMessage","destination","connected","publish","stringify"],"sources":["/Users/finngarrels/IdeaProjects/Tick2GetherProject/tick2gether_frontend/src/webs.js"],"sourcesContent":["import SockJS from 'sockjs-client';\nimport { Client } from '@stomp/stompjs';\n\nlet client = null;\n\nexport const connect = (userId, onMessage) => {\n    const socket = new SockJS('http://localhost:8080/ws');\n    client = new Client({\n        webSocketFactory: () => socket,\n        onConnect: () => {\n            console.log(\"Connected to WebSocket\");\n            client.subscribe(`/user/${userId}/specific`, (message) => {\n                try {\n                    const parsedMessage = JSON.parse(message.body);\n                    console.log(\"Received WebSocket message:\", parsedMessage);\n                    onMessage(parsedMessage);\n                } catch (error) {\n                    console.error(\"Error processing WebSocket message:\", error);\n                }\n            });\n        },\n        debug: (str) => {\n            console.log(new Date(), str);\n        },\n    });\n    client.activate();\n};\n\nexport const disconnect = () => {\n    if (client !== null) {\n        client.deactivate();\n        console.log(\"Disconnected from WebSocket\");\n    }\n};\n\nexport const sendMessage = (destination, message) => {\n    if (client !== null && client.connected) {\n        console.log(\"Publishing message to:\", destination, message);\n        client.publish({ destination, body: JSON.stringify(message) });\n    } else {\n        console.error(\"WebSocket is not connected\");\n    }\n};\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,eAAe;AAClC,SAASC,MAAM,QAAQ,gBAAgB;AAEvC,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,OAAO,GAAGA,CAACC,MAAM,EAAEC,SAAS,KAAK;EAC1C,MAAMC,MAAM,GAAG,IAAIN,MAAM,CAAC,0BAA0B,CAAC;EACrDE,MAAM,GAAG,IAAID,MAAM,CAAC;IAChBM,gBAAgB,EAAEA,CAAA,KAAMD,MAAM;IAC9BE,SAAS,EAAEA,CAAA,KAAM;MACbC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrCR,MAAM,CAACS,SAAS,CAAC,SAASP,MAAM,WAAW,EAAGQ,OAAO,IAAK;QACtD,IAAI;UACA,MAAMC,aAAa,GAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,CAACI,IAAI,CAAC;UAC9CP,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEG,aAAa,CAAC;UACzDR,SAAS,CAACQ,aAAa,CAAC;QAC5B,CAAC,CAAC,OAAOI,KAAK,EAAE;UACZR,OAAO,CAACQ,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;QAC/D;MACJ,CAAC,CAAC;IACN,CAAC;IACDC,KAAK,EAAGC,GAAG,IAAK;MACZV,OAAO,CAACC,GAAG,CAAC,IAAIU,IAAI,CAAC,CAAC,EAAED,GAAG,CAAC;IAChC;EACJ,CAAC,CAAC;EACFjB,MAAM,CAACmB,QAAQ,CAAC,CAAC;AACrB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC5B,IAAIpB,MAAM,KAAK,IAAI,EAAE;IACjBA,MAAM,CAACqB,UAAU,CAAC,CAAC;IACnBd,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC9C;AACJ,CAAC;AAED,OAAO,MAAMc,WAAW,GAAGA,CAACC,WAAW,EAAEb,OAAO,KAAK;EACjD,IAAIV,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACwB,SAAS,EAAE;IACrCjB,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEe,WAAW,EAAEb,OAAO,CAAC;IAC3DV,MAAM,CAACyB,OAAO,CAAC;MAAEF,WAAW;MAAET,IAAI,EAAEF,IAAI,CAACc,SAAS,CAAChB,OAAO;IAAE,CAAC,CAAC;EAClE,CAAC,MAAM;IACHH,OAAO,CAACQ,KAAK,CAAC,4BAA4B,CAAC;EAC/C;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}